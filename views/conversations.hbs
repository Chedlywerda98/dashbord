<style>
	.note {
		background-color: #f2f2f2;
		padding: 20px;
		margin-bottom: 20px;
	}

	.note .user {
		font-weight: bold;
		margin-right: 10px;
	}

	.note .bot {
		color: #666;
	}

    .delete-btn {
        background-color: #f44336;
        border: none;
        color: white;
        padding: 5px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin-left: 10px;
        cursor: pointer;
    }

</style>


<navbar class="navbar-container">
       

        <div class="bars">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <ul class="nav-items">
            <li class="nav-link"><a href="/conversations">conversations</a></li>
            <li class="nav-link"><a href="/">Home</a></li>
            <li class="nav-link"><a href="/questions">Q_R</a></li>
            <li class="nav-link"><a href="/logout">LogOut</a></li>
        </ul>
</navbar>

{{#if conversations}}
	<ul>
		{{#each conversations}}
			<li class="note">
				<span class="user">{{this.user_input}}</span>
				<span class="bot">{{this.bot_response}}</span>         
                <button class="delete-btn" onclick="deleteConv('{{this._id}}')">Delete</button>
			</li>

		{{/each}}
	</ul>
{{else}}
	<p>No conversations found.</p>
{{/if}}

<script>
   function deleteConv(id) {
    fetch('/conversations/' + id, { method: 'DELETE' })
        .then(response => {
            if (!response.ok) {
                throw new Error('Failed to delete conversation');
            }
            alert('Conversation deleted successfully!');
            location.reload();
        })
        .catch(error => {
            console.error(error);
        });
	}
</script>
